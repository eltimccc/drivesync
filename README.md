# DriveSync

DriveSync - это система для менеджеров организации проката автомобилей для ведения графика бронирований.

## Технологии

- Python 3.11.5
- Flask
- PostgreSQL
- SQLAlchemy
- alembic
- Flask-Login
- Docker
- Pytest

## Возможности

- **Управление бронированиями:** Менеджеры могут легко создавать и управлять бронированиями.
- **Проверка доступности автомобилей:** Мнеджер вводит даты бронирования и получает список доступных автомобилей.
- **Управление пользователями:** Автоматическое создание суперпользователя при запуске, который может добавлять других пользователей.
- **Ограничение длины сессий:** Пользователи могут оставаться в системе на указанное время в flask-limiter.
- **Журналирование и логирование:** Ведение логов активности приложения для удобства отслеживания и отладки.

## Установка

1. Клонируй репозиторий:
   ```bash
   git clone https://github.com/username/drivesync.git
   cd drivesync

2. Создай виртуальное окружение и активируй его:
    ```bash
    python3 -m venv venv
    source venv/bin/activate
3. Установи зависимости:
    ```bash
    pip install -r requirements.txt
4. Создай файл .env и добавь необходимые переменные окружения:
    ```bash
    FLASK_APP=run.py
    FLASK_ENV=development
    SECRET_KEY=my_secret_key_here
    WTF_CSRF_SECRET_KEY=your_csrf_secret_key
5. Создай базу данных и запусти миграции:
    ```bash
    flask db init
    flask db migrate -m "Initial migration."
    flask db upgrade
6. Запусти приложение:
    ```bash
    python3 run.py --reload

## Инициализация приложения

Приложение инициализируется в файле init.py, который отвечает за настройку и инициализацию различных компонентов:

- Настройка временной зоны: Временная зона устанавливается на "Europe/Moscow".
- Инициализация расширений: Включает SQLAlchemy, Flask-Migrate, Bcrypt и Flask-Login.
- Создание суперпользователя: При первом запуске приложения проверяется наличие суперпользователя и создается новый, если его нет.
- Настройка сессий: Сессии пользователей делаются постоянными с возможностью указания длительности.
- Регистрация Blueprints: Регистрация различных модулей приложения, таких как main, booking, car, report, auth, errors.
- Логирование: Логи приложения сохраняются в файл и настроены на ведение журнала активности.